{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../nav-menu-employee/nav-menu-employee.component\";\nexport class UpdateEmployeeComponent {\n  constructor(route, router, http, baseUrl) {\n    this.route = route;\n    this.router = router;\n    this.http = http;\n    this.empleado = {\n      id: 0,\n      nombre: '',\n      apellido: ''\n    };\n    this._baseUrl = baseUrl;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.empleadoId = +params['id'];\n      this.cargarDetallesEmpleado();\n    });\n  }\n  cargarDetallesEmpleado() {\n    this.http.get(this._baseUrl + 'Empleados/GetEmployeeById/' + this.empleadoId).subscribe(result => {\n      this.empleado = result;\n      console.log('detalle empleado', result);\n    }, error => {\n      console.error('error al obtener detalles del empleado', error);\n    });\n  }\n  guardarCambios() {\n    //this.router.navigate(['/home-employee']);\n    this.http.put(this._baseUrl + 'Empleados/UpdateEmployee' + this.empleadoId, this.empleado).subscribe(result => {\n      this.router.navigate(['/home-employee']);\n    }, error => {\n      console.error('Error al actualizar el empleado', error);\n    });\n  }\n}\nUpdateEmployeeComponent.ɵfac = function UpdateEmployeeComponent_Factory(t) {\n  return new (t || UpdateEmployeeComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject('BASE_URL_V2'));\n};\nUpdateEmployeeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdateEmployeeComponent,\n  selectors: [[\"app-update-employee\"]],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"employee-edit\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"nombre\"], [\"type\", \"text\", \"id\", \"nombre\", \"name\", \"nombre\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"apellido\"], [\"type\", \"text\", \"id\", \"apellido\", \"name\", \"apellido\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"routerLink\", \"/listado-empleados\", 1, \"btn\", \"btn-secondary\"]],\n  template: function UpdateEmployeeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"hr\")(1, \"app-nav-menu-employee\");\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"h1\");\n      i0.ɵɵtext(4, \"Editar Empleado\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function UpdateEmployeeComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.guardarCambios();\n      });\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 3);\n      i0.ɵɵtext(8, \"Nombre:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function UpdateEmployeeComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.empleado.nombre = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 5);\n      i0.ɵɵtext(12, \"Apellido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function UpdateEmployeeComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.empleado.apellido = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"button\", 7);\n      i0.ɵɵtext(16, \"Guardar Cambios\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"a\", 8);\n      i0.ɵɵtext(18, \"Cancelar\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.empleado.nombre);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.empleado.apellido);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i1.RouterLink, i4.NavMenuEmployeeComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAUA,OAAM,MAAOA,uBAAuB;EAKlCC,YACUC,KAAqB,EACrBC,MAAc,EACdC,IAAgB,EACDC,OAAc;IAH7B,UAAK,GAALH,KAAK;IACL,WAAM,GAANC,MAAM;IACN,SAAI,GAAJC,IAAI;IANd,aAAQ,GAAc;MAACE,EAAE,EAAC,CAAC;MAACC,MAAM,EAAC,EAAE;MAACC,QAAQ,EAAC;IAAE,CAAC;IAQhD,IAAI,CAACC,QAAQ,GAAGJ,OAAO;EACzB;EACAK,QAAQ;IACN,IAAI,CAACR,KAAK,CAACS,MAAM,CAACC,SAAS,CAAED,MAAM,IAAG;MACpC,IAAI,CAACE,UAAU,GAAG,CAACF,MAAM,CAAC,IAAI,CAAC;MAC/B,IAAI,CAACG,sBAAsB,EAAE;IAC/B,CAAC,CAAC;EACJ;EACAA,sBAAsB;IACpB,IAAI,CAACV,IAAI,CAACW,GAAG,CAAa,IAAI,CAACN,QAAQ,GAAC,4BAA4B,GAAC,IAAI,CAACI,UAAU,CAAC,CAClFD,SAAS,CAACI,MAAM,IAAG;MAClB,IAAI,CAACC,QAAQ,GAAGD,MAAM;MACtBE,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAACH,MAAM,CAAC;IACxC,CAAC,EAACI,KAAK,IAAG;MAAEF,OAAO,CAACE,KAAK,CAAC,wCAAwC,EAACA,KAAK,CAAC;IAAC,CAAC,CAAC;EAChF;EACAC,cAAc;IAEZ;IACA,IAAI,CAACjB,IAAI,CAACkB,GAAG,CAAC,IAAI,CAACb,QAAQ,GAAC,0BAA0B,GAAC,IAAI,CAACI,UAAU,EAAC,IAAI,CAACI,QAAQ,CAAC,CAClFL,SAAS,CAACI,MAAM,IAAG;MAClB,IAAI,CAACb,MAAM,CAACoB,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC;IAC1C,CAAC,EAACH,KAAK,IAAG;MAAEF,OAAO,CAACE,KAAK,CAAC,iCAAiC,EAACA,KAAK,CAAC;IAAC,CAAC,CAAC;EACzE;;AAhCWpB,uBAAuB;mBAAvBA,uBAAuB,sIASxB,aAAa;AAAA;AATZA,uBAAuB;QAAvBA,uBAAuB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVpCC,qBAAI;MAIJA,8BAA2B;MACrBA,+BAAe;MAAAA,iBAAK;MACxBA,+BAAoC;MAA9BA;QAAA,OAAYC,oBAAgB;MAAA,EAAC;MACjCD,8BAAwB;MACFA,uBAAO;MAAAA,iBAAQ;MACnCA,gCAAyG;MAA5DA;QAAA;MAAA,EAA6B;MAA1EA,iBAAyG;MAE3GA,+BAAwB;MACAA,0BAAS;MAAAA,iBAAQ;MACvCA,iCAA+G;MAA9DA;QAAA;MAAA,EAA+B;MAAhFA,iBAA+G;MAEjHA,+BAAwB;MACwBA,gCAAe;MAAAA,iBAAS;MACtEA,6BAA6D;MAAAA,yBAAQ;MAAAA,iBAAI;;;MAR5BA,eAA6B;MAA7BA,6CAA6B;MAIzBA,eAA+B;MAA/BA,+CAA+B","names":["UpdateEmployeeComponent","constructor","route","router","http","baseUrl","id","nombre","apellido","_baseUrl","ngOnInit","params","subscribe","empleadoId","cargarDetallesEmpleado","get","result","empleado","console","log","error","guardarCambios","put","navigate","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/home/sergio/Documentos/DotNet/EmpleadosProject/EmpleadosProject/ClientApp/src/app/employee/update-employee/update-employee.component.ts","/home/sergio/Documentos/DotNet/EmpleadosProject/EmpleadosProject/ClientApp/src/app/employee/update-employee/update-employee.component.html"],"sourcesContent":["import {Component, Inject} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {EmpleadoBE} from \"../EmployeeEntity/empleado-be\";\nimport {HttpClient} from \"@angular/common/http\";\n\n@Component({\n  selector: 'app-update-employee',\n  templateUrl: './update-employee.component.html',\n  styleUrls: ['./update-employee.component.css']\n})\nexport class UpdateEmployeeComponent {\n  empleadoId?:number;\n  empleado:EmpleadoBE = {id:0,nombre:'',apellido:''};\n  public _baseUrl:string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private http: HttpClient,\n    @Inject('BASE_URL_V2') baseUrl:string,) {\n    this._baseUrl = baseUrl;\n  }\n  ngOnInit(){\n    this.route.params.subscribe((params)=>{\n      this.empleadoId = +params['id'];\n      this.cargarDetallesEmpleado();\n    })\n  }\n  cargarDetallesEmpleado(){\n    this.http.get<EmpleadoBE>(this._baseUrl+'Empleados/GetEmployeeById/'+this.empleadoId)\n      .subscribe(result =>{\n        this.empleado = result;\n        console.log('detalle empleado',result);\n      },error => {console.error('error al obtener detalles del empleado',error);});\n  }\n  guardarCambios(){\n\n    //this.router.navigate(['/home-employee']);\n    this.http.put(this._baseUrl+'Empleados/UpdateEmployee'+this.empleadoId,this.empleado)\n      .subscribe(result => {\n        this.router.navigate(['/home-employee']);\n      },error => {console.error('Error al actualizar el empleado',error);})\n  }\n}\n","<hr>\n<app-nav-menu-employee></app-nav-menu-employee>\n<!-- editar-empleado.component.html -->\n\n<div class=\"employee-edit\">\n  <h1>Editar Empleado</h1>\n  <form (ngSubmit)=\"guardarCambios()\">\n    <div class=\"form-group\">\n      <label for=\"nombre\">Nombre:</label>\n      <input type=\"text\" id=\"nombre\" name=\"nombre\" [(ngModel)]=\"empleado.nombre\" class=\"form-control\" required>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"apellido\">Apellido:</label>\n      <input type=\"text\" id=\"apellido\" name=\"apellido\" [(ngModel)]=\"empleado.apellido\" class=\"form-control\" required>\n    </div>\n    <div class=\"form-group\">\n      <button type=\"submit\" class=\"btn btn-primary\">Guardar Cambios</button>\n      <a routerLink=\"/listado-empleados\" class=\"btn btn-secondary\">Cancelar</a>\n    </div>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}